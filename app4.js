var JOURNAL = [
  { events: ["carrot", "exercise", "weekend"], squirrel: false },
  {
    events: ["bread", "pudding", "brushed teeth", "weekend", "touched tree"],
    squirrel: false,
  },
  {
    events: ["carrot", "nachos", "brushed teeth", "cycling", "weekend"],
    squirrel: false,
  },
  {
    events: [
      "brussel sprouts",
      "ice cream",
      "brushed teeth",
      "computer",
      "weekend",
    ],
    squirrel: false,
  },
  {
    events: [
      "potatoes",
      "candy",
      "brushed teeth",
      "exercise",
      "weekend",
      "dentist",
    ],
    squirrel: false,
  },
  {
    events: [
      "brussel sprouts",
      "pudding",
      "brushed teeth",
      "running",
      "weekend",
    ],
    squirrel: false,
  },
  {
    events: ["pizza", "brushed teeth", "computer", "work", "touched tree"],
    squirrel: false,
  },
  {
    events: ["bread", "beer", "brushed teeth", "cycling", "work"],
    squirrel: false,
  },
  { events: ["cauliflower", "brushed teeth", "work"], squirrel: false },
  { events: ["pizza", "brushed teeth", "cycling", "work"], squirrel: false },
  { events: ["lasagna", "nachos", "brushed teeth", "work"], squirrel: false },
  { events: ["brushed teeth", "weekend", "touched tree"], squirrel: false },
  {
    events: ["lettuce", "brushed teeth", "television", "weekend"],
    squirrel: false,
  },
  { events: ["spaghetti", "brushed teeth", "work"], squirrel: false },
  { events: ["brushed teeth", "computer", "work"], squirrel: false },
  { events: ["lettuce", "nachos", "brushed teeth", "work"], squirrel: false },
  { events: ["carrot", "brushed teeth", "running", "work"], squirrel: false },
  { events: ["brushed teeth", "work"], squirrel: false },
  { events: ["cauliflower", "reading", "weekend"], squirrel: false },
  { events: ["bread", "brushed teeth", "weekend"], squirrel: false },
  { events: ["lasagna", "brushed teeth", "exercise", "work"], squirrel: false },
  {
    events: ["spaghetti", "brushed teeth", "reading", "work"],
    squirrel: false,
  },
  {
    events: ["carrot", "ice cream", "brushed teeth", "television", "work"],
    squirrel: false,
  },
  { events: ["spaghetti", "nachos", "work"], squirrel: false },
  {
    events: ["cauliflower", "ice cream", "brushed teeth", "cycling", "work"],
    squirrel: false,
  },
  { events: ["spaghetti", "peanuts", "computer", "weekend"], squirrel: true },
  {
    events: ["potatoes", "ice cream", "brushed teeth", "computer", "weekend"],
    squirrel: false,
  },
  {
    events: ["potatoes", "ice cream", "brushed teeth", "work"],
    squirrel: false,
  },
  { events: ["peanuts", "brushed teeth", "running", "work"], squirrel: false },
  { events: ["potatoes", "exercise", "work"], squirrel: false },
  { events: ["pizza", "ice cream", "computer", "work"], squirrel: false },
  { events: ["lasagna", "ice cream", "work"], squirrel: false },
  { events: ["cauliflower", "candy", "reading", "weekend"], squirrel: false },
  {
    events: ["lasagna", "nachos", "brushed teeth", "running", "weekend"],
    squirrel: false,
  },
  { events: ["potatoes", "brushed teeth", "work"], squirrel: false },
  { events: ["carrot", "work"], squirrel: false },
  { events: ["pizza", "beer", "work", "dentist"], squirrel: false },
  { events: ["lasagna", "pudding", "cycling", "work"], squirrel: false },
  {
    events: ["spaghetti", "brushed teeth", "reading", "work"],
    squirrel: false,
  },
  {
    events: ["spaghetti", "pudding", "television", "weekend"],
    squirrel: false,
  },
  {
    events: ["bread", "brushed teeth", "exercise", "weekend"],
    squirrel: false,
  },
  { events: ["lasagna", "peanuts", "work"], squirrel: true },
  { events: ["pizza", "work"], squirrel: false },
  { events: ["potatoes", "exercise", "work"], squirrel: false },
  { events: ["brushed teeth", "exercise", "work"], squirrel: false },
  {
    events: ["spaghetti", "brushed teeth", "television", "work"],
    squirrel: false,
  },
  { events: ["pizza", "cycling", "weekend"], squirrel: false },
  { events: ["carrot", "brushed teeth", "weekend"], squirrel: false },
  { events: ["carrot", "beer", "brushed teeth", "work"], squirrel: false },
  { events: ["pizza", "peanuts", "candy", "work"], squirrel: true },
  {
    events: ["carrot", "peanuts", "brushed teeth", "reading", "work"],
    squirrel: false,
  },
  { events: ["potatoes", "peanuts", "brushed teeth", "work"], squirrel: false },
  {
    events: ["carrot", "nachos", "brushed teeth", "exercise", "work"],
    squirrel: false,
  },
  {
    events: ["pizza", "peanuts", "brushed teeth", "television", "weekend"],
    squirrel: false,
  },
  {
    events: ["lasagna", "brushed teeth", "cycling", "weekend"],
    squirrel: false,
  },
  {
    events: [
      "cauliflower",
      "peanuts",
      "brushed teeth",
      "computer",
      "work",
      "touched tree",
    ],
    squirrel: false,
  },
  {
    events: ["lettuce", "brushed teeth", "television", "work"],
    squirrel: false,
  },
  {
    events: ["potatoes", "brushed teeth", "computer", "work"],
    squirrel: false,
  },
  { events: ["bread", "candy", "work"], squirrel: false },
  { events: ["potatoes", "nachos", "work"], squirrel: false },
  {
    events: ["carrot", "pudding", "brushed teeth", "weekend"],
    squirrel: false,
  },
  {
    events: ["carrot", "brushed teeth", "exercise", "weekend", "touched tree"],
    squirrel: false,
  },
  { events: ["brussel sprouts", "running", "work"], squirrel: false },
  { events: ["brushed teeth", "work"], squirrel: false },
  { events: ["lettuce", "brushed teeth", "running", "work"], squirrel: false },
  { events: ["candy", "brushed teeth", "work"], squirrel: false },
  {
    events: ["brussel sprouts", "brushed teeth", "computer", "work"],
    squirrel: false,
  },
  { events: ["bread", "brushed teeth", "weekend"], squirrel: false },
  { events: ["cauliflower", "brushed teeth", "weekend"], squirrel: false },
  {
    events: ["spaghetti", "candy", "television", "work", "touched tree"],
    squirrel: false,
  },
  { events: ["carrot", "pudding", "brushed teeth", "work"], squirrel: false },
  { events: ["lettuce", "brushed teeth", "work"], squirrel: false },
  {
    events: ["carrot", "ice cream", "brushed teeth", "cycling", "work"],
    squirrel: false,
  },
  { events: ["pizza", "brushed teeth", "work"], squirrel: false },
  { events: ["spaghetti", "peanuts", "exercise", "weekend"], squirrel: true },
  {
    events: ["bread", "beer", "computer", "weekend", "touched tree"],
    squirrel: false,
  },
  { events: ["brushed teeth", "running", "work"], squirrel: false },
  {
    events: ["lettuce", "peanuts", "brushed teeth", "work", "touched tree"],
    squirrel: false,
  },
  {
    events: ["lasagna", "brushed teeth", "television", "work"],
    squirrel: false,
  },
  {
    events: ["cauliflower", "brushed teeth", "running", "work"],
    squirrel: false,
  },
  { events: ["carrot", "brushed teeth", "running", "work"], squirrel: false },
  { events: ["carrot", "reading", "weekend"], squirrel: false },
  { events: ["carrot", "peanuts", "reading", "weekend"], squirrel: true },
  { events: ["potatoes", "brushed teeth", "running", "work"], squirrel: false },
  { events: ["lasagna", "ice cream", "work", "touched tree"], squirrel: false },
  {
    events: ["cauliflower", "peanuts", "brushed teeth", "cycling", "work"],
    squirrel: false,
  },
  { events: ["pizza", "brushed teeth", "running", "work"], squirrel: false },
  { events: ["lettuce", "brushed teeth", "work"], squirrel: false },
  {
    events: ["bread", "brushed teeth", "television", "weekend"],
    squirrel: false,
  },
  {
    events: ["cauliflower", "peanuts", "brushed teeth", "weekend"],
    squirrel: false,
  },
]; // it is a big ass array for 30 objects

// This makes sure the data is exported in node.js â€”
// `require('./path/to/journal.js')` will get you the array.
if (
  typeof module != "undefined" &&
  module.exports &&
  (typeof window == "undefined" || window.exports != exports)
)
  module.exports = JOURNAL;
if (typeof global != "undefined" && !global.JOURNAL) global.JOURNAL = JOURNAL;

//console.log(JOURNAL);

function tableFor(event, journal) {
  let table = [0, 0, 0, 0];
  for (let i = 0; i < journal.length; i++) {
    let entry = journal[i], //we get the  object for the spot in the array
      index = 0;
    // we are counting in binary
    // add one for even the event exits
    // add 2 for when the jacquel turned into a squirrel
    // essential we are adding to different place values
    if (entry.events.includes(event)) index += 1;
    if (entry.squirrel) index += 2;
    table[index] += 1; // wont this get an index that is out of range after addding all those ones and two to the zero intial point?
  }
  return table;
}

//console.log(tableFor("pizza", JOURNAL));

function phi(table) {
  //the table it takes is actually an array
  return (
    (table[3] * table[0] - table[2] * table[1]) /
    Math.sqrt(
      (table[2] + table[3]) *
        (table[0] + table[1]) *
        (table[1] + table[3]) *
        (table[0] + table[2])
    )
  );
}

//console.log(phi(tableFor("pizza", JOURNAL))); // we have to test all our code to make sure it does the right thing

// for (let entry of JOURNAL) {
//   //console.log(entry.squirrel);
//   console.log(`${entry.events.length} events`);
// }

//console.log(JOURNAL.length); // there are 90 entries in the array which is for 3 months

function journalEvents(journal) {
  let events = []; //empty array to hold every kind of event in our journal
  for (let entry of journal) {
    // get the object of entered for that day
    for (let event of entry.events) {
      // get all the events in the array events in the entry
      if (!events.includes(event)) {
        events.push(event);
      }
    }
  }
  return events;
}

//console.log(journalEvents(JOURNAL));
// for (let event of journalEvents(JOURNAL)) {
//   console.log(event + ":" + phi(tableFor(event, JOURNAL)));
// }

// for (let event of journalEvents(JOURNAL)) {
//   let correlation = phi(tableFor(event, JOURNAL));
//   if (correlation > 0.1 || correlation < -0.1) {
//     //events away from the zero point
//     console.log(event + ":" + correlation);
//   }
// }

for (let entry of JOURNAL) {
  if (
    entry.events.includes("peanuts") &&
    !entry.events.includes("brushed teeth")
  ) {
    entry.events.push("peanut teeth"); //that day he has peanut teeth
    //let us check the correlation of having peanut teeth with turning
  }
}

//console.log(phi(tableFor("peanut teeth", JOURNAL))); // it has a correation of one
// one all days this is the case the guy turns to a squirrel ahahaha

// string functions
console.log([1, 2, 1, 4].lastIndexOf(1)); // has an optional argument for where to start the search
console.log([1, 2, 20, 4].indexOf(4)); //also has an optinal argument for where to start the search

let my_arr = [1, 2, 3, 4, 5];
console.log(my_arr.slice(1, 4)); // will slice from 1 to index 3
console.log(my_arr.slice(3)); // will slice from index 3 to the end
console.log(my_arr.slice(-2));
console.log(my_arr.slice(-3, -2));
let new_arr = my_arr.slice(); // include no index to copy the entire array
console.log(new_arr);
new_array = new_arr.concat(my_arr); //concats two arrays like the + in strings
console.log(new_array);

function remove(array, index) {
  return array.slice(0, index).concat(array.slice(index + 1));
  // we slice and dont include the array we are removing
  // then we slice again from the index after  the  array we are  removing to the end
}

console.log(remove(["a", "b", "c", "d", "e", "f", "g"], 2)); // c will be removed
console.log(["a", "b", "c", "d"].concat("hamza"));

//common string functions
console.log("coconuts".slice(4));
console.log("coconut".indexOf("u"));
console.log("hamza".indexOf("amz"));
console.log("  kyamanywa  ".trim()); //removes the white spaces on the sides
console.log("7".padStart(3, "0")); // default padStart to add characters to the start

let sentence = "Secretarybirds specialize in stomping";
let words = sentence.split(" "); // return an array of a string split at the given character
console.log(words);
console.log(words.join(". ")); // join up an
console.log(" hamza is king. ".repeat(5));

let string = "abc";
console.log(string.length);
console.log(string[1]);

// defining a function using rest parametes, ... and the parameter number come in on an array
function max(...numbers) {
  // the input here will be treated as in coming in some sort of array
  let result = -Infinity;
  for (let number of numbers) {
    //run through the list of all arguments
    if (number > result) result = number;
  }
  return result;
}

console.log(max(5, 6, 7));
console.log(max(5, 10, 100, -1));

// exploring rest parameters
function myFun(a, b, ...otherLetters) {
  console.log("a", a);
  console.log("b", b);
  console.log("otherLetters", otherLetters); //these ones will be printed as an array
}

myFun(1, 2, 10, 200, 20, 30, 40);

let numbers = [5, 1, 7];

// spreading out an array for printing using the ... operators
console.log(...numbers); //they are not being passed an array because that will return an error, they are being passed on as numbers separated by a comma

words = ["never", "fully"];
console.log(["will", ...words, "understand"]); //the dots break the array words into its component words separated by commas..nice :)ðŸ˜‚

// to get a random point on a circle
function randomPointOnCircle(radius) {
  let angle = Math.random() * 2 * Math.PI; //this angle will be in radians, we take a faction of 2 PI, 2 PI is not included in our range
  return { x: radius * Math.cos(angle), y: radius * Math.sin(angle) };
}

console.log(randomPointOnCircle(2));

//exploring how the Math.random() function works
console.log(Math.random());
console.log(Math.random());
console.log(Math.random());
console.log(Math.random());

let y = Math.floor(Math.floor(Math.random() * 11)); // the number we produce are 0 to 9.999, 10 not inclusive
console.log(y);

let { name } = { name: "hamza kyamanywa", age: 23 }; // it looks through the object and gives the binding name 'name' to the 'name' property
// we are making names for the contents of this object
console.log(name);

let [fName, lName] = ["hamza", "kyamanywa"]; //we sort of create the names on the left in global name space,
//but we assign them to the elements of the array
// we can also assign them to properties in the object that share the same name
console.log(fName);

let json_data_entry = {
  squirrel: false,
  events: ["work", "touched tree", "pizza", "running"],
};

let my_entry = {
  squirrel: false,
  events: ["weekend", "studied", "played football"],
  "testing this": "true",
};

//learning stringify and parse for serialization
string = JSON.stringify(my_entry); // will put double quotes on everything that should have double quotes
console.log(string);
console.log(JSON.parse(string));

//exerices

// custom range function to return array from start to end, end inclusive, can also provide the step
function range(start, end, step = 1) {
  let array = [];
  let buildArray = (array) => {
    for (let i = start; i <= end; i = i + step) {
      array.push(i);
    }
    return array;
  };
  if (step < 0) {
    if (start >= end) {
      return buildArray(array);
    }
  } else if (start <= end) return buildArray(array);
  // when the step is positive
  else return array;
}

console.log(range(100, 200, -13));

//function to return the sum of elements in an array
function sum(numberArray) {
  let total = 0;
  for (let num of numberArray) {
    total += num;
  }
  return total;
}

console.log(range(1, 10, 2));
console.log(sum(range(1, 10, 2)));

// function to reverse a list and return the new list, (doesnot work in place)
const reverseArray = function (array) {
  new_array = [];
  for (let element of array) {
    // using 'in' instead of 'of' means you will run through the index names...
    //console.log(element);
    new_array.unshift(element); // we get them and add them into our array from the top
  }
  //console.log(new_array);
  return new_array;
};

console.log(reverseArray(["m", "n", "o", "p"]));
console.log(reverseArray([1, 2, 3, 4]));

//function to reverse a list in place
const reverseArrayInPlace = (array) => {
  let last_index = array.length - 1;
  let i = 0;
  while (i < last_index) {
    // the old values will be copied to the new places without problem, after copying we want to reduce the index of last_index variable
    let temp = array[i];
    array[i] = array[last_index];
    array[last_index] = temp;
    i++;
    last_index--;
  }
  return array;
};

console.log(reverseArrayInPlace(["w", "x", "y", "z"]));

let list = {
  value: 1,
  rest: {
    value: 2,
    rest: {
      value: 3,
      rest: null,
    },
  },
};
console.log(list);

//function to convert an array to a list
const arrayToList = function (array) {
  let list = {}; // is an empty object, empty objects have the value undefined since they are not holding anything
  let outer_object = list; //because i dont want to over writing my header for the list
  //just needed a pointer to traverse my list into the inside
  for (let value of array) {
    if (Object.keys(list).length === 0) {
      //the first entry has different code
      //the list object is empty
      list["value"] = value;
      list["rest"] = null;
    } else {
      //not the first entry
      while (outer_object.rest !== null) {
        outer_object = outer_object.rest; // move into the the list till the end
      }
      //after reaching the end
      outer_object.rest = {
        value: value,
        rest: null,
      };
    }
  }
  return list;
};

console.log(arrayToList([1, 2, 3, 4]));
console.log(
  arrayToList(["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k"])
);
let my_list = arrayToList([
  "a",
  "b",
  "c",
  "d",
  "e",
  "f",
  "g",
  "h",
  "i",
  "j",
  "k",
]);

//function to convert a list to an array
const listToArray = function (list) {
  // an array from a list, should return an array
  let outer_object = list;
  let result_array = [];
  if (Object.keys(list) !== 0) {
    //if the list is not empty then we process it
    while (outer_object.rest !== null) {
      //while it is not the last object in the list
      result_array.push(outer_object.value);
      outer_object = outer_object.rest;
    } //after reaching the last objet
    result_array.push(outer_object.value);
  }
  return result_array;
};

console.log(listToArray(my_list));

//function to add element at the start of the list
const prepend = function (element, list) {
  let newList = {
    value: element,
    rest: list,
  };
  return newList;
};

my_list = prepend("hamza", my_list);
console.log(my_list);

//loop function to return element at the nth position of the list
const nth = function (position, list) {
  if (position >= 0) {
    let outerObject = list;
    let i = 0;
    while (outerObject.rest && i !== position) {
      outerObject = outerObject.rest;
      i++;
    }
    if (i === position) return outerObject.value;
  }
};

console.log(nth(1, my_list));

//recursive functoin to return the element at the nth position of the list
function nthRecursive(position, list) {
  // we use position as a counter till its zero
  if (position === 0) return list.value;
  // we got here and this is our answer,
  // if the list is empty it will return undefined anyway
  else if (!list.rest) return;
  //we have no where else to go, return undefined
  else return nthRecursive(position - 1, list.rest); // we go deeper
}

console.log(nthRecursive(20, my_list));

//compares if two objects are the same
function deepEqual(value1, value2) {
  if (typeof value1 !== "object" && typeof value1 === typeof value2) {
    return value1 === value2;
  } else if (typeof value1 === "object" && typeof value2 === typeof value1) {
    // get the properties and compare them using the first if statement in this function
    let value1Keys = Object.keys(value1);
    let value2Keys = Object.keys(value2);
    if (value1Keys.length !== value2Keys.length) return false;
    // they should have the same number of elements
    else if (value1Keys.sort().join("") !== value2Keys.sort().join(""))
      return false;
    // they should have the same string values if the arrays of properties are joined together
    else {
      for (let key of value1Keys) {
        if (!deepEqual(value1[key], value2[key])) return false;
      }
      return true; // the objects are equal
    }
  }
}

console.log(
  deepEqual(
    { fName: "hamza", lName: "kyamanywa" },
    { fName: "hamzaa", lName: "kyamanywa" }
  )
);
